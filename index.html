<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Friend Swipe Cleaner</title>
<style>
body { background:#111; color:white; font-family:Arial; text-align:center; margin:0; }
#card { width:260px; margin:40px auto; background:#222; border-radius:12px; padding:16px; box-shadow:0 0 15px #000; }
img { width:240px; border-radius:12px; }
button { width:120px; margin:10px; padding:10px; border-radius:8px; border:none; font-size:18px; }
.keep { background:#1ea21e; }
.remove { background:#d93434; }
</style>
</head>
<body>

<h2>Roblox Friend Swipe Cleaner</h2>
<p>Swipe or tap buttons to keep/remove.</p>

<div id="card">
  <img id="avatar" src="">
  <h3 id="name"></h3>
</div>

<button class="keep" onclick="keep()">KEEP</button>
<button class="remove" onclick="removeFriend()">UNFRIEND</button>

<script>
let index = 0;
let data = [];

async function load() {
    const r = await fetch("https://friends.roblox.com/v1/my/friends", {credentials:"include"});
    data = await r.json();
    data = data.data.sort(() => Math.random() - 0.5); // random order
    show();
}

async function show() {
    if (index >= data.length) {
        document.getElementById("name").innerText = "Done âœ…";
        document.getElementById("avatar").src = "";
        return;
    }

    let u = data[index];
    document.getElementById("name").innerText = u.displayName+" (@"+u.name+")";

    let thumb = await fetch(`https://thumbnails.roblox.com/v1/users/avatar?userIds=${u.id}&size=352x352&format=Png&isCircular=false`);
    let j = await thumb.json();
    document.getElementById("avatar").src = j.data[0].imageUrl;
}

function keep() {
    index++;
    show();
}

async function removeFriend() {
    let u = data[index];
    await fetch(`https://friends.roblox.com/v1/users/${u.id}/unfriend`, {
        method: "POST",
        credentials: "include"
    });
    index++;
    show();
}

load();
</script>

</body>
</html>
